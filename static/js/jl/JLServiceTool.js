var TAG="JLServiceTool";var JLObuWechat33Request=require("./JLObuWechat33Request");var JLCmdTool=require("./JLCmdTool");var JLBleManager=require("./JLBleManager");var config=require("./JLZJConfig");var JLObuWechat33Reveice=require("./JLObuWechat33Reveice");var code=require("./errorCode");export function ICCReset(callback1,callback2){var cmd_arr=JLObuWechat33Request.ICCResetRequest();JLBleManager.sendCommand(cmd_arr,res=>{if(res.code==code.successCode()){callback1.call(this,{fireFlag:config.ICCReset()});JLObuWechat33Reveice.receiveICCReset(res=>{if(res.code!=code.successCode()){res.err_msg="卡片复位失败";callback2.call(this,res)}else{callback2.call(this,res)}})}else{callback2.call(this,res)}})};export function ESAMReset(callback1,callback2){var cmd_arr=JLObuWechat33Request.ESAMReset();JLBleManager.sendCommand(cmd_arr,res=>{if(res.code==code.successCode()){callback1.call(this,{fireFlag:config.ESAMReset()});JLObuWechat33Reveice.receiveEsamReset(res=>{if(res.code!=code.successCode()){res.err_msg="OBU复位失败";callback2.call(this,res)}else{callback2.call(this,res)}})}else{callback2.call(this,res)}})};export function selectTheDirectory(type,callback1,callback2){console.log(TAG+"selectTheDirectory--------选择目录:"+type);var cmd_arr=[];switch(type){case 0:cmd_arr=JLObuWechat33Request.ICCChannelTransmission("00",[JLCmdTool.JL_ICC_Menu3F00()]);break;case 1:cmd_arr=JLObuWechat33Request.ICCChannelTransmission("00",[JLCmdTool.JL_ICC_Menu1001()]);break;case 2:cmd_arr=JLObuWechat33Request.ESAMChannelTransmission("00",[JLCmdTool.JL_ESAM_Menu3F00()]);break;case 3:cmd_arr=JLObuWechat33Request.ESAMChannelTransmission("00",[JLCmdTool.JL_ESAM_MenuDF01()]);break}JLBleManager.sendCommand(cmd_arr,res=>{if(res.code==code.successCode()){callback1.call(this,{fireFlag:config.SelectMenu()});JLObuWechat33Reveice.receiveSelectMenu(res=>{if(res.code!=code.successCode()){if(type==0)res.err_msg="选择卡片3F00目录失败";if(type==1)res.err_msg="选择卡片1001目录失败";if(type==2)res.err_msg="选择Obu3F00目录失败";if(type==3)res.err_msg="选择ObuDF01目录失败";callback2.call(this,res)}else{callback2.call(this,res)}})}else{callback2.call(this,res)}})};