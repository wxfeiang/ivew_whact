var dataTool=require("./dataTool");var wxSeq=0;export function packWechatInit1(mac){var cmd="fe01000e4e21"+mac+"0a0208001200";var cmd_arr=[];for(var i=0;i<cmd.length;i+=40){var cmd_sub=cmd.substr(i,40);cmd_arr.push(cmd_sub)}return cmd_arr};export function packWechatInit2(){var cmd="fe0100134e23"+"0002"+"0a02080010b42418f8ac01";var cmd_arr=[];for(var i=0;i<cmd.length;i+=40){var cmd_sub=cmd.substr(i,40);cmd_arr.push(cmd_sub)}return cmd_arr};export function packWechatCmd(cmdArray){var cmdwxconten=[];var temp33conten=cmdArray;if(temp33conten.length>0){for(var i=0;i<temp33conten.length;i++){var tempBean_33=temp33conten[i].TOTALDATA;var tempBean_wx={wxMagicNumber:"",wxVer:"",wxLen:"",wxCMD:"",wxSeq:"",wxData:"",wxExtra:"",wxTail:"",wxTotalData:""};tempBean_wx.wxMagicNumber="FE";tempBean_wx.wxVer="01";tempBean_wx.wxLen=dataTool.tenToHex(tempBean_33.length/2+14,4);tempBean_wx.wxCMD="7531";tempBean_wx.wxSeq="0000";tempBean_wx.wxExtra="0A0012"+getwcDATAlen(tempBean_33.length/2);tempBean_wx.wxData=tempBean_33;tempBean_wx.wxTail="1800";tempBean_wx.wxTotalData=tempBean_wx.wxMagicNumber+tempBean_wx.wxVer+tempBean_wx.wxLen+tempBean_wx.wxCMD+tempBean_wx.wxSeq+tempBean_wx.wxExtra+tempBean_wx.wxData+tempBean_wx.wxTail;cmdwxconten.push(tempBean_wx)}}return cmdwxconten};export function unpackWechatProtocol(data){var tempBean_wx={wxMagicNumber:"",wxVer:"",wxLen:"",wxCMD:"",wxSeq:"",wxData:"",wxExtra:"",wxTail:"",wxTotalData:""};tempBean_wx.wxMagicNumber=data.substring(0*2,1*2);tempBean_wx.wxVer=data.substring(1*2,2*2);tempBean_wx.wxLen=data.substring(2*2,4*2);tempBean_wx.wxCMD=data.substring(4*2,6*2);tempBean_wx.wxSeq=data.substring(6*2,8*2);tempBean_wx.wxExtra=data.substring(8*2,11*2);var len=dataTool.hexToTen(data.substring(11*2,12*2));if((len&128)==128){var len1=len&127;var len2=dataTool.hexToTen(data.substring(12*2,13*2))&127;var len3=(len2<<7)+len1;tempBean_wx.wxData=data.substring(13*2,len3*2+26)}else{tempBean_wx.wxData=data.substring(12*2,len*2+24)}return tempBean_wx.wxData};function getwcDATAlen(dataLen){var len="";var lens1=0;var lens2=0;if(dataLen>127){lens1=dataLen&127|128;lens2=dataLen>>7&127;len=dataTool.tenToHex(lens1,2)+dataTool.tenToHex(lens2,2)}else{len=dataTool.tenToHex(dataLen,2)}return len}